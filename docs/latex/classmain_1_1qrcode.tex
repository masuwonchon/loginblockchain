\hypertarget{classmain_1_1qrcode}{}\section{main.\+qrcode Class Reference}
\label{classmain_1_1qrcode}\index{main.\+qrcode@{main.\+qrcode}}


Inheritance diagram for main.\+qrcode\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=157pt]{classmain_1_1qrcode__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for main.\+qrcode\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=157pt]{classmain_1_1qrcode__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classmain_1_1qrcode_af826915a83b6a4d5c91686b332662da3}{get} (self)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 141 of file main.\+py.



\subsection{Member Function Documentation}
\index{main\+::qrcode@{main\+::qrcode}!get@{get}}
\index{get@{get}!main\+::qrcode@{main\+::qrcode}}
\subsubsection[{\texorpdfstring{get(self)}{get(self)}}]{\setlength{\rightskip}{0pt plus 5cm}def main.\+qrcode.\+get (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\hypertarget{classmain_1_1qrcode_af826915a83b6a4d5c91686b332662da3}{}\label{classmain_1_1qrcode_af826915a83b6a4d5c91686b332662da3}


Definition at line 142 of file main.\+py.


\begin{DoxyCode}
142     \textcolor{keyword}{def }\hyperlink{classmain_1_1qrcode_af826915a83b6a4d5c91686b332662da3}{get}(self):
143         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'username'} \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} session:
144             abort(404)
145 
146         user = User.query.filter\_by(username=session[\textcolor{stringliteral}{'username'}]).first()
147 
148         \textcolor{keywordflow}{if} user \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
149             abort(404)
150 
151         del session[\textcolor{stringliteral}{'username'}]
152 
153         url = pyqrcode.create(user.get\_totp\_uri())
154         stream = BytesIO()
155         url.svg(stream, scale=3)
156         param = \{\textcolor{stringliteral}{'Content-Type'}: \textcolor{stringliteral}{'image/svg+xml'}, \textcolor{stringliteral}{'Cache-Control'}: \textcolor{stringliteral}{'no-cache, no-store, must-revalidate'},\textcolor{stringliteral}{'
      Pragma'}: \textcolor{stringliteral}{'no-cache'}, \textcolor{stringliteral}{'Expires'}: \textcolor{stringliteral}{'0'}\}
157         response = make\_response(stream.getvalue(), 200, param)
158         \textcolor{keywordflow}{return} response
159 
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
example/\hyperlink{main_8py}{main.\+py}\end{DoxyCompactItemize}
